<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Timetable</title>
    <link rel = "stylesheet" href = "timetable_style.css">
</head>
<body>
  <div class = "header">
    <button class = "hb" onclick = "window.location.href = 'amcsmap.html';">HOME</button>
    <button class = "hb" onclick = "window.location.href = 'mapimage.html';">MAP</button>
    <button class = "hb" onclick="showFullTimetable();">TIME TABLE</button>
    <button class = "hb" onclick = "window.location.href = 'https://ecampus.psgtech.ac.in/';">ecampus</button>
    <button class = "hb" onclick = "window.location.href = 'https://edviewx.psgtech.ac.in/Hostel';">Hostel</button>
  </div>
    <h1>Timetable</h1>
    <div id = "body">
        <table id="timetable">
            <thead>
                <tr>
                    <th>Day</th>
                    <th>Period 1</th>
                    <th>Period 2</th>
                    <th>Period 3</th>
                    <th>Period 4</th>
                    <th>Period 5</th>
                    <th>Period 6</th>
                    <th>Period 7</th>
                    <th>Period 8</th>
                </tr>
            </thead>
            <tbody>
                <!-- Timetable data will be inserted here -->
            </tbody>
        </table>
    </div>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            const timetableData = JSON.parse(localStorage.getItem('timetableData'));
            const timetable = JSON.parse(localStorage.getItem('timetable'));
            const tbody = document.querySelector("#timetable tbody");

            if (!timetableData || !timetable) {
                tbody.innerHTML = "<tr><td colspan='9'>No timetable data available.</td></tr>";
                return;
            }

            const days = ["Mon", "Tue", "Wed", "Thu", "Fri", "Sat"];
            days.forEach(day => {
                const row = document.createElement("tr");
                const dayCell = document.createElement("td");
                dayCell.textContent = day;
                row.appendChild(dayCell);

                for (let i = 0; i < 8; i++) {
                    const periodCell = document.createElement("td");
                    periodCell.textContent = timetable[day][i] || "No Class";
                    row.appendChild(periodCell);
                }

                tbody.appendChild(row);
            });
        });
    </script>
</body>
</html>
